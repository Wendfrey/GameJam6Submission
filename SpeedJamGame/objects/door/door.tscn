[gd_scene load_steps=16 format=3 uid="uid://d0cpa7c3ve6st"]

[ext_resource type="Script" path="res://objects/door/Door.gd" id="1_huxyx"]
[ext_resource type="Texture2D" uid="uid://ce11jjknitjbm" path="res://textures/Orange/texture_01.png" id="2_mty3h"]
[ext_resource type="AudioStream" uid="uid://ckjf4r0qc27ds" path="res://objects/door/door_opening.wav" id="3_rnvyb"]
[ext_resource type="Shader" uid="uid://2fc2p0la0cay" path="res://objects/door/door_shader_glow.tres" id="4_l0cjv"]
[ext_resource type="Texture2D" uid="uid://eygla6e13q2o" path="res://objects/door/door_back_alpha.png" id="5_bovog"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dojj4"]
albedo_texture = ExtResource("2_mty3h")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_skpeq"]
albedo_texture = ExtResource("2_mty3h")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8rmmg"]
albedo_texture = ExtResource("2_mty3h")
uv1_triplanar = true

[sub_resource type="Animation" id="Animation_kdjeh"]
resource_name = "OpenDoor"
length = 1.5
step = 0.05
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RightSideDoor/IntersectorRight")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, -0.904873, 0, 0.843184, 0.5, 1, -1.02992, 0, 1.00517, 0.55, 1, -0.983153, 0, 0.944458, 0.6, 1, -1.02992, 0, 1.00517, 0.65, 1, -0.983153, 0, 0.944458, 1.5, 1, -2.35269, 0.0291114, 2.72239)
tracks/1/type = "position_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("LeftSideDoor/IntersectorLeft")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, -0.904873, 0, 0.843184, 0.5, 1, -1.01911, 0, 0.99149, 0.8, 1, -1.22906, 0, 1.26405, 1.5, 1, -2.34741, 0, 2.71588)
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AudioStreamPlayer")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.15),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [0.0],
"method": &"play"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("OmniLight3D:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.2),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_stkc5"]
resource_name = "Reset"
length = 0.001
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RightSideDoor/IntersectorRight")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, -0.904873, 0, 0.843184)
tracks/1/type = "position_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("LeftSideDoor/IntersectorLeft")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, -0.904873, 0, 0.843184)

[sub_resource type="Animation" id="Animation_o02oh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("OmniLight3D:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("LeftSideDoor/IntersectorLeft:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.904873, 0, 0.843184)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("RightSideDoor/IntersectorRight:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.904873, 0, 0.843184)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_yp53x"]
_data = {
"OpenDoor": SubResource("Animation_kdjeh"),
"RESET": SubResource("Animation_o02oh"),
"Reset": SubResource("Animation_stkc5")
}

[sub_resource type="CylinderShape3D" id="CylinderShape3D_k84m0"]
radius = 2.698

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kdtdv"]
render_priority = 0
shader = ExtResource("4_l0cjv")
shader_parameter/alertColor = Color(0.254902, 0, 0.419608, 1)
shader_parameter/BaseColor = Color(0.170792, 0.084363, 0.264976, 1)
shader_parameter/speed = 10.0
shader_parameter/AlphaChannel = ExtResource("5_bovog")

[sub_resource type="QuadMesh" id="QuadMesh_ga5db"]
material = SubResource("ShaderMaterial_kdtdv")
size = Vector2(4.5, 4.5)
orientation = 1

[node name="Door" type="Node3D"]
script = ExtResource("1_huxyx")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="."]
material_override = SubResource("StandardMaterial3D_dojj4")
radius = 2.5
height = 0.2
sides = 18

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="CSGCylinder3D"]
operation = 2
radius = 2.25
height = 0.3
sides = 18

[node name="RightSideDoor" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0704939)
material_override = SubResource("StandardMaterial3D_skpeq")
radius = 2.37917
height = 0.1
sides = 18

[node name="IntersectorRight" type="CSGBox3D" parent="RightSideDoor"]
transform = Transform3D(0.792215, 0, -0.610242, 0, 1, 0, 0.610242, 0, 0.792215, -0.904873, 0, 0.843184)
operation = 1
size = Vector3(5.10181, 1, 2.5)

[node name="LeftSideDoor" type="CSGCylinder3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 3.07555e-09, 0, 0.000133514)
material_override = SubResource("StandardMaterial3D_8rmmg")
radius = 2.37917
height = 0.1
sides = 18

[node name="IntersectorLeft" type="CSGBox3D" parent="LeftSideDoor"]
transform = Transform3D(0.792215, 0, -0.610242, 0, 1, 0, 0.610242, 0, 0.792215, -0.904873, 0, 0.843184)
operation = 1
size = Vector3(5.10181, 1, 2.5)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_yp53x")
}

[node name="Area3D" type="Area3D" parent="."]
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.00496, 0)
shape = SubResource("CylinderShape3D_k84m0")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_rnvyb")

[node name="BackgroundPlane" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0334992, 0)
mesh = SubResource("QuadMesh_ga5db")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
visible = false
light_color = Color(0.541176, 0.109804, 0.792157, 1)
light_energy = 2.763
omni_attenuation = 0.277392

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
